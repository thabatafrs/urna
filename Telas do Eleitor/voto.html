<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body>
    <div class="container">
        <div class="janela">
            <input type="n_chap" name="n_chap" id="n_chap" placeholder="XXXX" autofocus tabindex="1"/>
            <p>n° da chapa</p>
            <button class="botao_branco" tabindex="2">BRANCO</button>
        </div>
    </div>
</body>
<script>
    window.addEventListener('DOMContentLoaded', (event) => {
        const n_chapInput = document.getElementById('n_chap');
        n_chapInput.addEventListener('input', function() {
            this.value = this.value.replace(/[^0-9]/g, '');
        });

        n_chapInput.addEventListener('keydown', function(e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                if (n_chapInput.value.trim() === '') {
                    alert('Por favor, insira um número de chapa válido.');
                    return;
                }
                const userInput = encodeURIComponent(n_chapInput.value || 'BRANCO');
                window.location.href = `confirmar.html?numero=${userInput}`;
            }
        });
    

    const botao_branco = document.querySelector('.botao_branco');
        botao_branco.addEventListener('keydown', function(e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                const userInput = encodeURIComponent('BRANCO');
                window.location.href = `confirmar.html?numero=${userInput}`;
            }
        });
    });

    window.addEventListener('keydown', function(e) {
        if (e.key === 'Tab') {
            e.preventDefault();
            const n_chap = document.getElementById('n_chap');
            const botao_branco = document.querySelector('.botao_branco');
            if (n_chap === document.activeElement) {
                botao_branco.focus();
            } else if (botao_branco === document.activeElement) {
                n_chap.focus();
            }
        }
    });
</script>
</html>